# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –Ω–∞ —Ä–µ–≥.—Ä—É

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. –•–æ—Å—Ç–∏–Ω–≥ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Node.js
2. MySQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—É–∂–µ —Å–æ–∑–¥–∞–Ω–∞: u3105470_psyh)
3. FTP –¥–æ—Å—Ç—É–ø (—É–∂–µ –µ—Å—Ç—å: u3105470_psyh_us)
4. SSH –¥–æ—Å—Ç—É–ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)

## üîß –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1.1 –û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin
- –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–≥.—Ä—É
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö"
- –û—Ç–∫—Ä–æ–π—Ç–µ phpMyAdmin –¥–ª—è –±–∞–∑—ã `u3105470_psyh`

### 1.2 –°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—ã
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞ `server-new/schema.sql`:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "SQL" –≤ phpMyAdmin
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `server-new/schema.sql`
3. –í—Å—Ç–∞–≤—å—Ç–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–í—ã–ø–æ–ª–Ω–∏—Ç—å"

## üìÅ –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ FTP

### 2.1 –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ FTP
```
–•–æ—Å—Ç: ftp.–≤–∞—à_–¥–æ–º–µ–Ω.ru
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: u3105470_psyh_us
–ü–∞—Ä–æ–ª—å: vC7mU1fG0waP8uE0
–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: /www/psyh.vakulskiy.team
```

### 2.2 –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã
–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã:

```
/www/psyh.vakulskiy.team/
‚îú‚îÄ‚îÄ server-new/      (–≤—Å–µ —Ñ–∞–π–ª—ã)
‚îú‚îÄ‚îÄ public/          (–≤—Å–µ —Ñ–∞–π–ª—ã)
‚îú‚îÄ‚îÄ package.json     (—Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
‚îî‚îÄ‚îÄ .env             (—Å–æ–∑–¥–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
```

### 2.3 –°–æ–∑–¥–∞–π—Ç–µ package.json
–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `package.json`:

```json
{
  "name": "psychplatform",
  "version": "2.0.0",
  "type": "module",
  "scripts": {
    "start": "node server-new/index.js",
    "seed": "node server-new/seed.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "express-session": "^1.17.3",
    "express-mysql-session": "^3.0.0",
    "mysql2": "^3.6.5",
    "bcrypt": "^5.1.1"
  }
}
```

### 2.4 –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```env
DB_HOST=localhost
DB_USER=u3105470_psyh_user
DB_PASSWORD=xR3iA0zO0qwV9cF4
DB_NAME=u3105470_psyh
SESSION_SECRET=–≤–∞—à_—Å–ª—É—á–∞–π–Ω—ã–π_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞
PORT=5000
```

## üöÄ –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ß–µ—Ä–µ–∑ SSH (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd /www/psyh.vakulskiy.team
npm install
```

### –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–≥.—Ä—É
–ï—Å–ª–∏ SSH –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–µ–≥.—Ä—É –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ npm –ø–∞–∫–µ—Ç–æ–≤.

## üå± –®–∞–≥ 4: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–º–∏

### –ß–µ—Ä–µ–∑ SSH
```bash
cd /www/psyh.vakulskiy.team
npm run seed
```

### –ß–µ—Ä–µ–∑ phpMyAdmin (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)
–ï—Å–ª–∏ SSH –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞–π—Ç–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ SQL:

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ö–µ—à–∏ –ø–∞—Ä–æ–ª–µ–π –∏–∑ `server-new/seed.js`
2. –í—Å—Ç–∞–≤—å—Ç–µ SQL INSERT –∫–æ–º–∞–Ω–¥—ã –≤ phpMyAdmin

**–î–µ–º–æ-–ø–∞—Ä–æ–ª–∏ (–¥–ª—è bcrypt):**
```
admin123 -> $2b$10$...
psychologist123 -> $2b$10$...
client123 -> $2b$10$...
```

## ‚ñ∂Ô∏è –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ SSH
```bash
cd /www/psyh.vakulskiy.team
npm start
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
```bash
npm install -g pm2
pm2 start server-new/index.js --name psychplatform
pm2 save
pm2 startup
```

### –í–∞—Ä–∏–∞–Ω—Ç –í: –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–≥.—Ä—É
–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ Node.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É: `server-new/index.js`
- –ü–æ—Ä—Ç: `5000`

## üîç –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://psyh.vakulskiy.team`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–æ–∏—Å–∫–æ–º –ø—Å–∏—Ö–æ–ª–æ–≥–æ–≤
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç–æ–º:
   - Email: `admin@psychplatform.com`
   - –ü–∞—Ä–æ–ª—å: `admin123`

## ‚öôÔ∏è –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

### Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```nginx
server {
    listen 80;
    server_name psyh.vakulskiy.team;

    location / {
        proxy_pass http://localhost:5000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

### Apache .htaccess (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
```apache
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ http://localhost:5000/$1 [P,L]
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

1. **–ò–∑–º–µ–Ω–∏—Ç–µ SESSION_SECRET** –≤ `.env` –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á
2. **–í–∫–ª—é—á–∏—Ç–µ HTTPS** —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å —Ä–µ–≥.—Ä—É (SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
3. **–û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cookie** –≤ `server-new/index.js`:
   ```javascript
   cookie: {
     secure: true,  // –¢–æ–ª—å–∫–æ HTTPS
     httpOnly: true,
     sameSite: 'strict'
   }
   ```

4. **–£–¥–∞–ª–∏—Ç–µ –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã** –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall** –¥–ª—è MySQL (—Ç–æ–ª—å–∫–æ localhost)

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–¥–∞:

```bash
cd /www/psyh.vakulskiy.team
git pull  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ git
pm2 restart psychplatform  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ pm2
# –∏–ª–∏
npm start  # –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
pm2 logs psychplatform  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pm2
# –∏–ª–∏
tail -f /path/to/logs/node.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
pm2 status  # –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è pm2
```

## ‚ùó –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs` –∏–ª–∏ `tail -f logs/error.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MySQL: `mysql -u u3105470_psyh_user -p`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã: `chmod -R 755 /www/psyh.vakulskiy.team`

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ credentials –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ MySQL —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ –æ—Ç–¥–∞—é—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ `public/` –≤ `server-new/index.js`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ `public/`

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (Nginx/Apache)
3. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–µ–≥.—Ä—É –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ —Ö–æ—Å—Ç–∏–Ω–≥—É

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] MySQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
- [ ] –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ schema.sql
- [ ] –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ FTP
- [ ] package.json —Å–æ–∑–¥–∞–Ω
- [ ] .env —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] npm install –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã (seed.js)
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ (npm start / pm2)
- [ ] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –í—Ö–æ–¥ —Å –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
- [ ] SESSION_SECRET –∏–∑–º–µ–Ω–µ–Ω
- [ ] –î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã —É–¥–∞–ª–µ–Ω—ã (–ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `http://psyh.vakulskiy.team`!
